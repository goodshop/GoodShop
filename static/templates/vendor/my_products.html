{% extends 'vendor/base.html' %}
{% block first %}{% load inplace_edit %}{% endblock %}
{% block css %}{% endblock %}
{% block scripts %}
  <script src="{{STATIC_URL}}js/customer.js"></script>
  <script type="text/javascript">
      $('img').each(function(){
            var url = $(this).attr('src');
            if(url.substring(0,7) == '/media/'){
                  url = 'http://goodshop.dyndns-ip.com:8000' + url;
                  $(this).attr('src',url)
            }
      });
      $('a').each(function(){
            var url = $(this).attr('href');
            if(url.substring(0,7) == '/media/'){
                  url = 'http://goodshop.dyndns-ip.com:8000' + url;
                  //$(this).attr('src',url)
            }
      });
  </script>
  {% inplace_static %}
{% endblock %}

{% block title %}My Products{% endblock %}

{% block jumbotron %}
  <div class="container">
    <div class='row'>
      <div class="col-md-12">
          <ul class="pager">
            <li class="next">
                <a style="background-color: #F7FFED; border: 1px solid #AEA;" href="{% url 'add_product' %}">
                  <span class="glyphicon glyphicon-plus" style="color: green;"></span> Add new product
                </a>
            </li>
          </ul>
      </div>
    </div>
  </div>
{% endblock %}

{% block content %}

    <div class="col-md-12">

          {% if products %}
          <div class="panel panel-success">
            <div class="panel-heading">
              <h3 class="panel-title">My Products</h3>
            </div>
            <div class="panel-body">
              <div class="list-group">
               {% for product in products %}
                 <div class="list-group-item row">
                  <!--Position helper-->
                  <div id="{{product.pk}}" class="position-helper"></div>
                  <!-- Product Image -->
                  <div class="col-sm-3 inplace-thumbnail inplace-img">
                  <h4 class="title">Image:</h4>
                    {% if product.get_first_image %}
                        {% inplace_edit 'product.get_img_obj.image' %}
                    {% else %}
                        <img data-src="holder.js/100%x180" class="product-img" alt="{{product.name}}">
                    {% endif %}

                  </div>
                  <!-- Product Name -->
                  <div class="col-sm-4">
                  <h4 class="title">Product Name:</h4>
                    <h4 title="Double click to edit">
                      {% inplace_edit 'product.name|safe' %}
                    </h4>
                  </div>

                  <!--Product Price-->
                  <div class="col-sm-2">
                  <h4 class="title">Price:</h4>
                    <h4>$ {% inplace_edit 'product.price|safe' %}</h4>
                  </div>

                  <!--Product Category-->
                  <div class="col-sm-2">
                  <h4 class="title">Category:</h4>
                    <h4>{% inplace_edit 'product.category|safe' %}</h4>
                  </div>

                  <!--In Stock-->
                  <div class="col-sm-1">
                  <h4 class="title">In Stock:</h4>
                    <h4>{% inplace_edit 'product.stock' %}</h4>
                  </div>
                 </div> <!--List group row-->
               {% endfor %}
              </div> <!--List Group-->
            </div> <!--Panel body-->
          </div> <!--Panel-->
          {% endif %}
    </div> <!--Col Products-->
{% endblock %}

{% block extra %}
  <div class="container">
    <div class='row'>
      <div class="col-md-12">
          <ul class="pager">
            <li class="next">
                <a style="background-color: #F7FFED; border: 1px solid #AEA;" href="{% url 'add_product' %}">
                  <span class="glyphicon glyphicon-plus" style="color: green;"></span> Add new product
                </a>
            </li>
          </ul>
      </div>
    </div>
  </div>
{% endblock %}